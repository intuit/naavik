{
  "apiVersion": "admiral.io/v1",
  "kind": "TrafficConfig",
  "metadata": {
    "labels": {
      "asset": "httpbin",
      "env": "prd"
    },
    "name": "httpbin",
    "namespace": "admiral"
  },
  "spec": {
    "edgeService": {
      "filters": [
        {
          "name": "filter-3387192"
        },
        {
          "name": "filter--671448791"
        }
      ],
      "routes": [
        {
          "filterSelector": "filter--671448791",
          "inbound": "authority=prd.*.intuit;/*",
          "name": "all-prd",
          "outbound": "/*",
          "timeout": 7673,
          "workloadEnvSelectors": [
            "prd-air",
            "prd"
          ]
        },
        {
          "inbound": "authority=stg.*.intuit;/*",
          "name": "all-stg",
          "outbound": "/*",
          "timeout": 8356,
          "workloadEnvSelectors": [
            "stg-air",
            "stg"
          ]
        }
      ],
      "targetGroups": [
        {
          "name": "Default - Single Swimlane",
          "weights": [
            {
              "name": "Default - All Traffic",
              "weight": 100
            }
          ]
        },
        {
          "name": "DefaultGroup",
          "weights": [
            {
              "name": "Default",
              "weight": 100
            }
          ]
        }
      ]
    },
    "quotaGroup": {
      "totalQuotaGroups": [
        {
          "cpuLimit": 80,
          "description": "Total capacity of service",
          "memoryLimit": 80,
          "name": "Total Throttling Plan",
          "podLevelThreshold": 100,
          "quotas": [
            {
              "algorithm": "scalable",
              "behaviour": "softThrottle",
              "keyType": "any",
              "maxAmount": 200,
              "name": "Total",
              "rule": "/*",
              "timePeriod": "1s"
            }
          ],
          "regionLevelLimit": true,
          "workloadEnvSelectors": [
            "prd-air",
            "prd"
          ]
        }
      ]
    },
    "workloadEnvs": [
      "prd-air",
      "prd",
      "stg",
      "stg-air"
    ]
  }
}